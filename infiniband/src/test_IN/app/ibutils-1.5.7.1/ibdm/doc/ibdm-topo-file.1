.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.32
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  | will give a
.\" real vertical bar.  \*(C+ will give a nicer C++.  Capital omega is used to
.\" do unbreakable dashes and therefore won't be available.  \*(C` and \*(C'
.\" expand to `' in nroff, nothing in troff, for use with C<>.
.tr \(*W-|\(bv\*(Tr
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.hy 0
.if n .na
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "IBDM-TOPO-FILE 1"
.TH IBDM-TOPO-FILE 1 "2008-06-16" "IBDM 1.0" "IB DATA MODEL PACKAGE"
.SH "NAME"
\&\fBIBDM Topology File\fR
.PP
The topology file describes the IB connectivity and systems included in the network.
It serves two purposes:
.IP "1. Support for arbitrary system names to be later used in every report that IBDM generates." 4
.IX Item "1. Support for arbitrary system names to be later used in every report that IBDM generates."
.PD 0
.IP "2. Connectivity verification: The specified network topology is verified against the discovered one. Mismatch errors resulting from missing cables and/or wrong connections are reported by IBADM." 4
.IX Item "2. Connectivity verification: The specified network topology is verified against the discovered one. Mismatch errors resulting from missing cables and/or wrong connections are reported by IBADM."
.PD
.PP
The topology file is composed "system" sections. Each such section describes the connectivity of one system to other systems in the network. The first line of each section is a declaration of the system composed of a system\-type, its system\-name section, and optional configuration details. The lines to follow until the next empty line describe the connections between this system ports to the other systems. The following is a formal definition of a system section syntax.
.PP
An example is listed afterwards.
.PP
SYSTEM\-TYPE SYSTEM\-NAME [CFG: <b1>=<modifier>, [<b2>=<modifier>]...]
.PP
.Vb 1
\&        LOCAL-PORT-PANEL-NAME -> REM-SYS-TYPE REM-SYS-NAME REM-PORT-PANEL-NAME
.Ve
.PP
.Vb 1
\&        LOCAL-PORT-PANEL-NAME -> REM-SYS-TYPE REM-SYS-NAME REM-PORT-PANEL-NAME
.Ve
.PP
.Vb 1
\&        LOCAL-PORT-PANEL-NAME -> REM-SYS-TYPE REM-SYS-NAME REM-PORT-PANEL-NAME
.Ve
.PP
.Vb 1
\&        . . .
.Ve
.PP
SYSTEM\-TYPE SYSTEM\-NAME [CFG: <b1>=<modifier>, [<b2>=<modifier>]...]
.PP
.Vb 1
\&        LOCAL-PORT-PANEL-NAME -> REM-SYS-TYPE REM-SYS-NAME REM-PORT-PANEL-NAME
.Ve
.PP
.Vb 1
\&        LOCAL-PORT-PANEL-NAME -> REM-SYS-TYPE REM-SYS-NAME REM-PORT-PANEL-NAME
.Ve
.PP
.Vb 1
\&        . . .
.Ve
.PP
\&. . .
.PP
Where:
.IP "\fBSYSTEM\-TYPE\fR and \fBREM\-SYS\-TYPE\fR" 4
.IX Item "SYSTEM-TYPE and REM-SYS-TYPE"
Any system that has a corresponding IBNL definition. See man \fBibdm\-ibnl\-file\fR
.IP "\fBSYSTEM\-NAME\fR" 4
.IX Item "SYSTEM-NAME"
The name of the system described in this topology file section.
.IP "\fBLOCAL\-PORT\-PANEL\-NAME\fR" 4
.IX Item "LOCAL-PORT-PANEL-NAME"
The name of the local system port. The numbers printed on the front panel are used together with Ln for Leaf no. N or Sn for Spine no. N.
.IP "\fBREM\-SYS\-NAME\fR" 4
.IX Item "REM-SYS-NAME"
The name of the system connected to the local port.
.IP "\fBREM\-PORT\-PANEL\-NAME\fR" 4
.IX Item "REM-PORT-PANEL-NAME"
A name of the remote system port. We use the numbers as printed on the front panel and Ln for Leaf number N or Sn for Spine number N.
.SH "EXAMPLE"
.IX Header "EXAMPLE"
The following is a topology file for a simple cluster with one 24 port switch and two HCAs. The firts \s-1HCA\s0 named H\-1 and connect to the fabric with its two ports. The second \s-1HCA\s0 named H\-2. The switch is of type \s-1MTS2400\s0 and is named S\-1
.PP
\&\s-1MTS2400\s0 S\-1
   P1 \-> \s-1MT23108\s0 H\-1 P1
   P2 \-> \s-1MT23108\s0 H\-1 P2
   P24 \-> \s-1MT23108\s0 H\-2 P1
.SH "OPTIONAL CFG SECTION"
.IX Header "OPTIONAL CFG SECTION"
This section in the system declaration line describes the special customization of each board of the system.
.PP
That is the \s-1CFG\s0 string is a set of comma-separated sub\-fields. Each sub-field describes some special configuration of a corresponding system board. The actual semantics of the specific board modifiers is defined by the \s-1IBNL\s0 of the specific system.
.SH "EXAMPLE"
.IX Header "EXAMPLE"
The following is an example of a definition-line in a topology file of the \s-1MTS9600\s0 switch system. This switch system can have up to eight leafs and four spines. This example of the \s-1MTS9600\s0 lacks (R) leafs no.6,7 and 8, and lacks spines no. 3 and 4.
.PP
\&\s-1MTS9600\s0 PartialGz1 \s-1CFG:\s0 leaf3=R,leaf5=R,leaf7=R,spine1=R
.SH "AUTHOR"
.IX Header "AUTHOR"
Eitan Zahavi, Mellanox Technologies \s-1LTD\s0, eitan@mellanox.co.il
